## 背景
- **性能限制**：当前方法在改进随机选择的示例方面存在困难，特别是在应用于较小的语言模型（LLMs）时，导致输出质量显著下降。
- **模式链接挑战**：缺乏明确标注模式链接的数据集，使得准确关联问题标记与相关数据库模式元素变得困难。
- **无关模式包含**：在表示中包含所有模式项可能会使模型感到困惑，因为无关的模式元素妨碍有效的表示和检索。
- ## 贡献
- ### 深度上下文模式链接图构造
- 通过模式剪枝（排除无关模式项）和基于注意力机制的上下文链接，构建问题与相关模式项之间的图
- 1. 交叉编码模型确定表和列的相关性，粗筛掉无关表与列
- 2. **问题**和**子模式**拼成一个长序列，喂给 LLM 的最后一层注意力头，提取出高阈值的问题与模式项注意力权重边，形成对应关系
- 3. **把指认结果+数据库元数据画成一张图并用 Graph Transformer编码成向量。**
- ### 基于图的示例检索
- 利用图嵌入技术检索与给定查询相关的示例，从而提高用于上下文学习的示例质量。
- ### 使用上下文中学习生成SQL
- 使用检索到的示例生成目标SQL查询，示例输入预定义CoT模板中以更有效地引导SQL生成。
- ![first image](https://chatdoc-arxiv.oss-us-west-1.aliyuncs.com/images/arxiv/2505.19956/first_image.jpeg?AWSAccessKeyId=LTAI5t6b2G8eTtEBczAMwjhc&Signature=4TtPNBwDQbFpT60uZEKIJfvK8RQ%3D&Expires=9223372038607927296)